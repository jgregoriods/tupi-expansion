setwd("new_abm_c/layers/veg_clim/")
library(raster)
veg1 <- raster("veg_1000.asc")
eco1 <- focal(veg1, w=matrix(1,3,3), fun=mean)
plot(eco1)
eco1[values(eco1)==1] <- 0
plot(eco1)
eco1[values(eco1)>0] <- 1
plot(eco1)
eco1
veg1
writeRaster(eco1, "eco_1000.asc")
eco1 <- focal(veg1, w=matrix(1,3,3), fun=mean)
eco1[values(eco1)==1] <- 0
eco1[values(eco1)>0 && values(veg1)==1] <- 1
plot(eco1)
eco1[values(eco1)<1] <- 0
plot(eco1)
eco1 <- focal(veg1, w=matrix(1,3,3), fun=mean)
plot(eco1)
eco1[values(eco1)==1] <- 0
plot(eco1)
eco1[values(eco1)>1 && values(veg1) == 1] <- 100
plot(eco1)
eco1[values(eco1)>1 & values(veg1) == 1] <- 100
plot(eco1)
veg2 <- raster("veg_2000.asc")
eco2 <- focal(veg2, w=matrix(1,3,3), fun=mean)
plot(eco2)
eco2[values(eco2)==1] <- 0
plot(eco2)
eco2[values(eco2)!=0] <- 1
plot(eco2)
writeRaster(eco2, "eco_2000.asc")
veg3 <- raster("veg_3000.asc")
eco3 <- focal(veg3, w=matrix(1,3,3), fun=mean)
eco3[values(eco2)==1] <- 0
eco3 <- focal(veg3, w=matrix(1,3,3), fun=mean)
eco3[values(eco3)==1] <- 0
plot(eco3)
eco3[values(eco3)!=0] <- 1
plot(eco3)
writeRaster(eco3, "eco_3000.asc")
library(raster)
get_ecotone <- function(r) {
eco <- focal(r, w=matrix(1,3,3), fun=mean)
eco[values(eco)==1] <- 0
eco[values(eco)!=0] <- 1
return(eco)
}
a <- get_ecotone(veg1)
plot(a)
list.files()
b <- list.files()
x <- raster(b)
x <- raster(b[[1]])
plot(x)
x
b[[2]]
library(raster)
get_ecotone <- function(r) {
eco <- focal(r, w=matrix(1,3,3), fun=mean)
eco[values(eco)==1] <- 0
eco[values(eco)!=0] <- 1
return(eco)
}
for(i in 1000*1:6) {
veg <- raster(paste("veg_", i, ".asc", sep=""))
eco <- get_ecotone(veg)
writeRaster(eco, paste("eco_", i, ".asc", sep=""))
}
